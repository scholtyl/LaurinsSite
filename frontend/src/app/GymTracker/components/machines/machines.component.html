<div class="flex justify-center flex-wrap flex-col content-center">
  <div class="flex w-full px-3 flex-col max-w-md">
    <div class="card gap-2 mt-3 place-items-center">
      @for (machine of Machines; track $index) {

      <div (click)="selectMachine(machine.id)" class="card cursor-pointer card-side bg-secondary shadow-xl">
        <figure class="w-1/3">

          <div class="skeleton" style="
            width: 260px;
            height: 140px;
            "*ngIf="!loadedImages[machine.id]">
          </div>

          <img
            [src]="machineURL(machine.id)"
            (load)="onImageLoad(machine.id)"
            [class.invisible]="!loadedImages[machine.id]"
            [style.width]="loadedImages[machine.id] ? '100%' : '0px'"
            class="w-full h-full object-cover"
          />
        </figure>
        <div class="p-3 mx-auto flex justify-center flex-col items-center">
          <h2 class="card-title text-base-content">
            {{ machine.name }} @if(isToday(machine.lastTraining)){<i
              class="bx bx-calendar-check text-success text-md"
            ></i
            >}@else {<i class="bx bx-calendar-x text-info text-md"></i>}
          </h2>
          <p class="text-base-content">Last Weight: {{ machine.lastWeight ?? "??" }} Kg</p>
        </div>
      </div>
      }
    </div>
  </div>
</div>
